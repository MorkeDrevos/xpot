/* app/globals.css */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* =============================================================
   XPOT GLOBAL TOKENS (NO THEME SWITCHING)
============================================================= */

:root {
  color-scheme: dark;

  /* Text */
  --xpot-text: rgba(226, 232, 240, 0.94);
  --xpot-text-dim: rgba(226, 232, 240, 0.72);
  --xpot-text-faint: rgba(226, 232, 240, 0.52);

  /* Deep inks */
  --xpot-bg-0: #01020a;
  --xpot-bg-1: #020313;
  --xpot-bg-2: #04061a;

  /* Accents (fixed) */
  --xpot-accent-primary: 56 189 248; /* sky */
  --xpot-accent-secondary: 99 102 241; /* violet */
  --xpot-accent-glow: 236 72 153; /* magenta */
  --xpot-accent-success: 16 185 129; /* emerald */

  /* Compat aliases */
  --xpot-accent-purple: var(--xpot-accent-secondary);
  --xpot-accent-brand: var(--xpot-accent-primary);

  /* Borders */
  --xpot-border-soft: rgba(148, 163, 184, 0.12);
  --xpot-border: rgba(148, 163, 184, 0.18);
  --xpot-border-strong: rgba(148, 163, 184, 0.26);

  /* Shadows */
  --xpot-shadow-soft: 0 12px 40px rgba(0, 0, 0, 0.45);
  --xpot-shadow-card: 0 18px 60px rgba(0, 0, 0, 0.55);

  /* Glows */
  --xpot-glow-primary:
    0 0 0 1px rgba(var(--xpot-accent-primary), 0.22),
    0 0 36px rgba(var(--xpot-accent-primary), 0.14),
    0 18px 90px rgba(var(--xpot-accent-primary), 0.08);

  --xpot-glow-secondary:
    0 0 0 1px rgba(var(--xpot-accent-secondary), 0.22),
    0 0 44px rgba(var(--xpot-accent-secondary), 0.14),
    0 18px 110px rgba(var(--xpot-accent-secondary), 0.09);

  --xpot-glow-success:
    0 0 0 1px rgba(var(--xpot-accent-success), 0.20),
    0 0 36px rgba(var(--xpot-accent-success), 0.12),
    0 18px 90px rgba(var(--xpot-accent-success), 0.08);

  --xpot-glow-accent:
    0 0 0 1px rgba(var(--xpot-accent-glow), 0.20),
    0 0 48px rgba(var(--xpot-accent-glow), 0.14),
    0 20px 130px rgba(var(--xpot-accent-glow), 0.10);

  /* Radii */
  --xpot-r-md: 14px;
  --xpot-r-lg: 18px;
  --xpot-r-xl: 22px;

  /* Blur */
  --xpot-blur: 12px;

  /* Focus ring */
  --xpot-ring: 0 0 0 3px rgba(var(--xpot-accent-primary), 0.25);

  /* Top strip */
  --xpot-strip: linear-gradient(
    90deg,
    rgba(88, 28, 135, 0.96),
    rgba(147, 51, 234, 0.92),
    rgba(219, 39, 119, 0.96)
  );

  /* Glass surfaces */
  --xpot-surface-1: linear-gradient(
    to bottom right,
    rgba(255, 255, 255, 0.055),
    rgba(255, 255, 255, 0.014)
  );

  --xpot-surface-2: linear-gradient(
    to bottom right,
    rgba(10, 12, 26, 0.90),
    rgba(4, 5, 14, 0.86)
  );

  --xpot-surface-3: linear-gradient(
    to bottom right,
    rgba(8, 10, 22, 0.86),
    rgba(2, 3, 10, 0.84)
  );

  /* DEFAULT page bg */
  --xpot-bg-page:
    radial-gradient(1000px 700px at 18% 18%,
      rgba(var(--xpot-accent-primary), 0.16),
      transparent 62%
    ),
    radial-gradient(900px 650px at 56% 28%,
      rgba(var(--xpot-accent-secondary), 0.10),
      transparent 66%
    ),
    radial-gradient(980px 680px at 82% 20%,
      rgba(var(--xpot-accent-glow), 0.12),
      transparent 64%
    ),
    linear-gradient(to bottom, var(--xpot-bg-2), var(--xpot-bg-0) 70%, #000109);
}

/* =============================================================
   OPS MOOD (TRIGGERED BY <html data-xpot-page="ops">)
   IMPORTANT: use html[...] selector (matches what JS sets)
============================================================= */

html[data-xpot-page="ops"] {
  --xpot-bg-page:
    radial-gradient(1400px 900px at 12% 22%,
      rgba(var(--xpot-accent-primary), 0.40),
      rgba(var(--xpot-accent-primary), 0.14) 38%,
      transparent 68%
    ),
    radial-gradient(1200px 820px at 54% 18%,
      rgba(var(--xpot-accent-secondary), 0.22),
      transparent 66%
    ),
    radial-gradient(1500px 980px at 92% 26%,
      rgba(var(--xpot-accent-glow), 0.34),
      rgba(var(--xpot-accent-glow), 0.12) 42%,
      transparent 72%
    ),
    radial-gradient(1200px 900px at 52% 120%,
      rgba(16, 185, 129, 0.06),
      transparent 60%
    ),
    linear-gradient(to bottom, #04061a, #01020a 72%, #000109);

  --xpot-surface-1: linear-gradient(
    to bottom right,
    rgba(255, 255, 255, 0.060),
    rgba(255, 255, 255, 0.014)
  );

  --xpot-border-soft: rgba(148, 163, 184, 0.14);
  --xpot-border: rgba(148, 163, 184, 0.20);
}

/* =============================================================
   BASE
============================================================= */

html,
body {
  height: 100%;
}

body {
  background: var(--xpot-bg-page);
  color: var(--xpot-text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: geometricPrecision;
}

/* keep the background stable on scroll for the premium “deep space” feel */
@media (min-width: 768px) {
  body {
    background-attachment: fixed;
  }
}

::selection {
  background: rgba(var(--xpot-accent-primary), 0.25);
  color: rgba(255, 255, 255, 0.95);
}

a {
  color: inherit;
  text-decoration: none;
}

a:hover {
  text-decoration: none;
}

input,
button,
textarea,
select {
  font: inherit;
}

:focus-visible {
  outline: none;
  box-shadow: var(--xpot-ring);
}

/* WebKit scrollbars */
*::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

*::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.03);
}

*::-webkit-scrollbar-thumb {
  background: rgba(148, 163, 184, 0.18);
  border-radius: 999px;
  border: 2px solid rgba(0, 0, 0, 0);
  background-clip: padding-box;
}

*::-webkit-scrollbar-thumb:hover {
  background: rgba(148, 163, 184, 0.26);
}

/* =============================================================
   XPOT UTILS
============================================================= */

.xpot-page {
  min-height: 100vh;
  background: var(--xpot-bg-page);
}

.xpot-top-strip {
  background: var(--xpot-strip);
}

.xpot-max {
  max-width: 1440px;
  margin-left: auto;
  margin-right: auto;
}

.xpot-glass {
  background: var(--xpot-surface-1);
  border: 1px solid var(--xpot-border-soft);
  border-radius: var(--xpot-r-xl);
  backdrop-filter: blur(var(--xpot-blur));
  -webkit-backdrop-filter: blur(var(--xpot-blur));
  box-shadow: var(--xpot-shadow-soft);
}

.xpot-panel {
  background: var(--xpot-surface-2);
  border: 1px solid var(--xpot-border);
  border-radius: var(--xpot-r-xl);
  box-shadow: var(--xpot-shadow-card);
  position: relative;
  overflow: hidden;
}

.xpot-panel::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(820px 280px at 20% 0%, rgba(255, 255, 255, 0.055), transparent 55%),
    radial-gradient(740px 240px at 80% 0%, rgba(255, 255, 255, 0.04), transparent 60%),
    linear-gradient(to bottom, rgba(255, 255, 255, 0.03), transparent 40%);
  opacity: 0.9;
}

.xpot-card {
  background: var(--xpot-surface-3);
  border: 1px solid var(--xpot-border-soft);
  border-radius: var(--xpot-r-lg);
  box-shadow: var(--xpot-shadow-soft);
  position: relative;
  overflow: hidden;
}

.xpot-card::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(
    920px 280px at 50% 0%,
    rgba(255, 255, 255, 0.045),
    transparent 62%
  );
  opacity: 0.85;
}

.xpot-card-primary {
  background: var(--xpot-surface-2);
  border: 1px solid var(--xpot-border-strong);
  border-radius: var(--xpot-r-lg);
  box-shadow: var(--xpot-glow-primary);
  position: relative;
  overflow: hidden;
}

.xpot-card-primary[data-glow="secondary"],
.xpot-card-primary[data-glow="purple"] {
  box-shadow: var(--xpot-glow-secondary);
}

.xpot-card-primary[data-glow="success"],
.xpot-card-primary[data-glow="emerald"] {
  box-shadow: var(--xpot-glow-success);
}

.xpot-card-primary[data-glow="glow"],
.xpot-card-primary[data-glow="magenta"] {
  box-shadow: var(--xpot-glow-accent);
}

.xpot-divider {
  height: 1px;
  background: linear-gradient(
    to right,
    transparent,
    rgba(148, 163, 184, 0.18),
    transparent
  );
}

/* Halo layer used in ops cards (AdminClient uses this class) */
.xpot-nebula-halo {
  position: absolute;
  inset: -2px;
  pointer-events: none;
  background:
    radial-gradient(900px 320px at 18% 0%,
      rgba(var(--xpot-accent-primary), 0.16),
      transparent 58%
    ),
    radial-gradient(900px 320px at 82% 0%,
      rgba(var(--xpot-accent-glow), 0.12),
      transparent 60%
    ),
    radial-gradient(700px 240px at 50% 110%,
      rgba(var(--xpot-accent-secondary), 0.10),
      transparent 62%
    );
  opacity: 0.9;
  filter: blur(0px);
}

/* =============================================================
   FORMS + BUTTONS (used by AdminClient)
============================================================= */

.xpot-input {
  border-radius: 16px;
  border: 1px solid rgba(148, 163, 184, 0.22);
  background: rgba(2, 3, 10, 0.72);
  color: rgba(226, 232, 240, 0.95);
  padding: 10px 12px;
  outline: none;
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.02);
}

.xpot-input::placeholder {
  color: rgba(148, 163, 184, 0.45);
}

.xpot-input:focus {
  border-color: rgba(16, 185, 129, 0.55);
  box-shadow:
    0 0 0 3px rgba(16, 185, 129, 0.18),
    inset 0 0 0 1px rgba(255, 255, 255, 0.02);
}

.xpot-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.22);
  background: rgba(2, 3, 10, 0.55);
  color: rgba(226, 232, 240, 0.88);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
  transition: filter 160ms ease, background 160ms ease, border-color 160ms ease, transform 160ms ease;
}

.xpot-btn:hover {
  background: rgba(2, 3, 10, 0.70);
  border-color: rgba(148, 163, 184, 0.34);
  filter: brightness(1.05);
}

.xpot-btn:active {
  transform: translateY(1px);
}

.xpot-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.xpot-btn-primary {
  border-color: rgba(16, 185, 129, 0.35);
  background: linear-gradient(
    to bottom right,
    rgba(16, 185, 129, 0.22),
    rgba(2, 3, 10, 0.65)
  );
  color: rgba(236, 253, 245, 0.92);
}

.xpot-btn-primary:hover {
  border-color: rgba(16, 185, 129, 0.55);
  filter: brightness(1.06);
}

.xpot-btn-danger {
  border-color: rgba(248, 113, 113, 0.35);
  background: linear-gradient(
    to bottom right,
    rgba(248, 113, 113, 0.18),
    rgba(2, 3, 10, 0.70)
  );
  color: rgba(254, 226, 226, 0.92);
}

.xpot-btn-danger:hover {
  border-color: rgba(248, 113, 113, 0.55);
  filter: brightness(1.06);
}

/* =============================================================
   Logo animation used by top bar
============================================================= */

@keyframes xpotStarFlash {
  0% { filter: brightness(1) drop-shadow(0 0 0 rgba(255, 255, 255, 0)); }
  45% { filter: brightness(1) drop-shadow(0 0 0 rgba(255, 255, 255, 0)); }
  50% { filter: brightness(1.35) drop-shadow(0 0 18px rgba(255, 255, 255, 0.28)); }
  55% { filter: brightness(1) drop-shadow(0 0 0 rgba(255, 255, 255, 0)); }
  100% { filter: brightness(1) drop-shadow(0 0 0 rgba(255, 255, 255, 0)); }
}

@media (prefers-reduced-motion: reduce) {
  * {
    scroll-behavior: auto !important;
  }
}
